using System.Runtime.InteropServices;

namespace NxRecompile;

public static class Svcs {
    public static readonly Dictionary<int, (string Name, int[] In, int[] Out)> All = new() {
        [0x01] = ("SetHeapSize", [1], [0, 1]),
        [0x02] = ("SetMemoryPermission", [0, 1, 2], [0]),
        [0x03] = ("SetMemoryAttribute", [0, 1, 2, 3], [0]),
        [0x04] = ("MapMemory", [0, 1, 2], [0]),
        [0x05] = ("UnmapMemory", [0, 1, 2], [0]),
        [0x06] = ("QueryMemory", [0, 2], [0, 1]),
        [0x07] = ("ExitProcess", [], []),
        [0x08] = ("CreateThread", [1, 2, 3, 4, 5], [0, 1]),
        [0x09] = ("StartThread", [0, 2, 3], [0]),
        [0x0A] = ("ExitThread", [], []),
        [0x0B] = ("SleepThread", [0], []),
        [0x0C] = ("GetThreadPriority", [1], [0, 1]),
        [0x0D] = ("SetThreadPriority", [0, 1], [0]),
        [0x0E] = ("GetThreadCoreMask", [2], [0, 1, 2]),
        [0x0F] = ("SetThreadCoreMask", [0, 1, 2], [0]),
        [0x10] = ("GetCurrentProcessorNumber", [], [0]),
        [0x11] = ("SignalEvent", [0], [0]),
        [0x12] = ("ClearEvent", [0], [0]),
        [0x13] = ("MapSharedMemory", [0, 1, 2, 3], [0]),
        [0x14] = ("UnmapSharedMemory", [0, 1, 2], [0]),
        [0x15] = ("CreateTransferMemory", [1, 2, 3], [0, 1]),
        [0x16] = ("CloseHandle", [0], [0]),
        [0x17] = ("ResetSignal", [0], [0]),
        [0x18] = ("WaitSynchronization", [1, 2, 3], [0, 1]),
        [0x19] = ("CancelSynchronization", [0], [0]),
        [0x1A] = ("ArbitrateLock", [0, 1, 2], [0]),
        [0x1B] = ("ArbitrateUnlock", [0], [0]),
        [0x1C] = ("WaitProcessWideKeyAtomic", [0, 1, 2, 3], [0]),
        [0x1D] = ("SignalProcessWideKey", [0, 1], [0]),
        [0x1E] = ("GetSystemTick", [], [0]),
        [0x1F] = ("ConnectToNamedPort", [1], [0, 1]),
        [0x20] = ("SendSyncRequestLight", [0], [0]),
        [0x21] = ("SendSyncRequest", [0], [0]),
        [0x22] = ("SendSyncRequestWithUserBuffer", [0, 1, 2], [0]),
        [0x23] = ("SendAsyncRequestWithUserBuffer", [1, 2, 3], [0, 1]),
        [0x24] = ("GetProcessId", [1], [0, 1]),
        [0x25] = ("GetThreadId", [1], [0, 1]),
        [0x26] = ("Break", [0, 1, 2], [0]),
        [0x27] = ("OutputDebugString", [0, 1], [0]),
        [0x28] = ("ReturnFromException", [0], []),
        [0x29] = ("GetInfo", [1, 2, 3], [0, 1]),
        [0x2A] = ("FlushEntireDataCache", [], []),
        [0x2B] = ("FlushDataCache", [0, 1], [0]),
        [0x2C] = ("MapPhysicalMemory", [0, 1], [0]),
        [0x2D] = ("UnmapPhysicalMemory", [0, 1], [0]),
        //[0x2E] = ("GetFutureThreadInfo", [], []), // Replaced in 6.0.0
        [0x2E] = ("GetDebugFutureThreadInfo", [3], [0, 1, 2, 3, 4, 5, 6]),
        [0x2F] = ("GetLastThreadInfo", [], [0, 1, 2, 3, 4, 5, 6]),
        [0x30] = ("GetResourceLimitLimitValue", [1, 2], [0, 1]),
        [0x31] = ("GetResourceLimitCurrentValue", [1, 2], [0, 1]),
        [0x32] = ("SetThreadActivity", [0, 1], [0]),
        [0x33] = ("GetThreadContext3", [0, 1], [0]),
        [0x34] = ("WaitForAddress", [0, 1, 2, 3], [0]),
        [0x35] = ("SignalToAddress", [0, 1, 2, 3], [0]),
        [0x36] = ("SynchronizePreemptionState", [], []),
        [0x37] = ("GetResourceLimitPeakValue", [1, 2], [0, 1]),
        [0x39] = ("CreateIoPool", [], []), // XXX
        [0x3A] = ("CreateIoRegion", [], []), // XXX
        //[0x3C] = ("DumpInfo", [0, 1], [0]), // Replaced in 4.0.0
        [0x3C] = ("KernelDebug", [0, 1, 2, 3], [0]),
        [0x3D] = ("ChangeKernelTraceState", [0], [0]),
        [0x40] = ("CreateSession", [2, 3], [0, 1, 2]),
        [0x41] = ("AcceptSession", [1], [0, 1]),
        [0x42] = ("ReplyAndReceiveLight", [0], [0]),
        [0x43] = ("ReplyAndReceive", [1, 2, 3, 4], [0, 1]),
        [0x44] = ("ReplyAndReceiveWithUserBuffer", [1, 2, 3, 4, 5, 6], [0, 1]),
        [0x45] = ("CreateEvent", [], [0, 1, 2]),
        [0x46] = ("MapIoRegion", [], []), // XXX
        [0x47] = ("UnmapIoRegion", [], []), // XXX
        [0x48] = ("MapPhysicalMemoryUnsafe", [0, 1], [0]),
        [0x49] = ("UnmapPhysicalMemoryUnsafe", [0, 1], [0]),
        [0x4A] = ("SetUnsafeLimit", [0], [0]),
        [0x4B] = ("CreateCodeMemory", [1, 2], [0, 1]),
        [0x4C] = ("ControlCodeMemory", [0, 1, 2, 3, 4], [0]),
        [0x4D] = ("SleepSystem", [], []),
        [0x4E] = ("ReadWriteRegister", [1, 2, 3], [0, 1]),
        [0x4F] = ("SetProcessActivity", [0, 1], [0]),
        [0x50] = ("CreateSharedMemory", [1, 2, 3], [0, 1]),
        [0x51] = ("MapTransferMemory", [0, 1, 2, 3], [0]),
        [0x52] = ("UnmapTransferMemory", [0, 1, 2], [0]),
        [0x53] = ("CreateInterruptEvent", [1, 2], [0, 1]),
        [0x54] = ("QueryPhysicalAddress", [1], [0, 1, 2, 3]),
        //[0x55] = ("QueryIoMapping", [1, 2], [0, 1]), // Replaced in 10.0.0
        [0x55] = ("QueryMemoryMapping", [], []), // XXX
        [0x56] = ("CreateDeviceAddressSpace", [1, 2], [0, 1]),
        [0x57] = ("AttachDeviceAddressSpace", [0, 1], [0]),
        [0x58] = ("DetachDeviceAddressSpace", [0, 1], [0]),
        [0x59] = ("MapDeviceAddressSpaceByForce", [0, 1, 2, 3, 4, 5], [0]),
        [0x5A] = ("MapDeviceAddressSpaceAligned", [0, 1, 2, 3, 4, 5], [0]),
        [0x5B] = ("MapDeviceAddressSpace", [1, 2, 3, 4, 5, 6], [0, 1]),
        [0x5C] = ("UnmapDeviceAddressSpace", [0, 1, 2, 3, 4], [0]),
        [0x5D] = ("InvalidateProcessDataCache", [0, 1, 2], [0]),
        [0x5E] = ("StoreProcessDataCache", [0, 1, 2], [0]),
        [0x5F] = ("FlushProcessDataCache", [0, 1, 2], [0]),
        [0x60] = ("DebugActiveProcess", [1], [0, 1]),
        [0x61] = ("BreakDebugProcess", [0], [0]),
        [0x62] = ("TerminateDebugProcess", [0], [0]),
        [0x63] = ("GetDebugEvent", [0, 1], [0]),
        [0x64] = ("ContinueDebugEvent", [0, 1, 2, 3], [0]),
        [0x65] = ("GetProcessList", [1, 2], [0, 1]),
        [0x66] = ("GetThreadList", [1, 2, 3], [0, 1]),
        [0x67] = ("GetDebugThreadContext", [0, 1, 2, 3], [0]),
        [0x68] = ("SetDebugThreadContext", [0, 1, 2, 3], [0]),
        [0x69] = ("QueryDebugProcessMemory", [0, 2, 3], [0, 1]),
        [0x6A] = ("ReadDebugProcessMemory", [0, 1, 2, 3], [0]),
        [0x6B] = ("WriteDebugProcessMemory", [0, 1, 2, 3], [0]),
        [0x6C] = ("SetHardwareBreakPoint", [0, 1, 2], [0]),
        [0x6D] = ("GetDebugThreadParam", [2, 3, 4], [0, 1, 2]),
        [0x6F] = ("GetSystemInfo", [1, 2, 3], [0, 1]),
        [0x70] = ("CreatePort", [2, 3, 4], [0, 1, 2]),
        [0x71] = ("ManageNamedPort", [1, 2], [0, 1]),
        [0x72] = ("ConnectToPort", [1], [0, 1]),
        [0x73] = ("SetProcessMemoryPermission", [0, 1, 2, 3], [0]),
        [0x74] = ("MapProcessMemory", [0, 1, 2, 3], [0]),
        [0x75] = ("UnmapProcessMemory", [0, 1, 2, 3], [0]),
        [0x76] = ("QueryProcessMemory", [0, 2, 3], [0, 1]),
        [0x77] = ("MapProcessCodeMemory", [0, 1, 2, 3], [0]),
        [0x78] = ("UnmapProcessCodeMemory", [0, 1, 2, 3], [0]),
        [0x79] = ("CreateProcess", [1, 2, 3], [0, 1]),
        [0x7A] = ("StartProcess", [0, 1, 2, 3], [0]),
        [0x7B] = ("TerminateProcess", [0], [0]),
        [0x7C] = ("GetProcessInfo", [0, 1], [0, 1]),
        [0x7D] = ("CreateResourceLimit", [], [0, 1]),
        [0x7E] = ("SetResourceLimitLimitValue", [0, 1, 2], [0]),
        [0x7F] = ("CallSecureMonitor", [0, 1, 2, 3, 4, 5, 6, 7], [0, 1, 2, 3, 4, 5, 6, 7]),
        [0x80] = ("SetMemoryAttribute2", [], []), // XXX
        [0x90] = ("MapInsecurePhysicalMemory", [], []), // XXX
        [0x91] = ("UnmapInsecurePhysicalMemory", [], []), // XXX
    };
}